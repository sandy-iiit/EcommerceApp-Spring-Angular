<div class="main-content page-m">
<div class="section-content section-content-p30">
  <div class="container-fluid">
    <form [formGroup]="checkoutFormGroup" (ngSubmit)="onSubmit()">
        <div formGroupName="customer" class="form-area">
              <h3>Customer</h3>
          <div class="row">
            <div class="col-md-2">
              <label>First Name</label>
            </div>
            <div class="col-md-9">
              <div class="input-space">
                <input formControlName="firstName" type="text">

                <div style="height: 30px;margin-top: 5px;display: flex;align-items: center" *ngIf="getFirstName()?.invalid && (getFirstName()?.touched || getFirstName()?.dirty)"
                class="alert alert-danger">
                  <p *ngIf="getFirstName()?.errors?.['required']">
                    First name is required!
                  </p>
                  <p *ngIf="checkoutFormGroup.get('customer.firstName')?.errors?.['minLength'] ">
                    First name must contain atleast 2 characters!!
                  </p>
                </div>


              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-2">
              <label>Last Name</label>
            </div>
            <div class="col-md-9">
              <div class="input-space">
                <input formControlName="lastName" type="text">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-2">
              <label>Email</label>
            </div>
            <div class="col-md-9">
              <div class="input-space">
                <input formControlName="email" type="text">
              </div>
            </div>
          </div>
        </div>
<!--shipping address-->
      <div formGroupName="shippingAddress" class="form-area">
        <h3>Shipping Address</h3>
        <div class="row">
          <div class="col-md-2">
            <label>Country</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="country" (change)="getStates('shippingAddress')">
                <option *ngFor="let con of countries" [ngValue]="con">{{con.name}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-2">
            <label>State</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="state">
                <option *ngFor="let state of shippingStates">{{state.name}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-2">
            <label>City</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="city" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Street</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="street" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Zip Code</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="zipCode" type="text">
            </div>
          </div>
        </div>
      </div>

<!--check box to copy shipping address to billing address-->
      <div class="input-space">
        <label class="au-checkbox">
          <input type="checkbox" (change)="copyShippingAddress($event)">
          <span class="au-checkmark"></span> Billing address same as shipping address
        </label>
      </div>

<!--billing address-->
      <div formGroupName="billingAddress" class="form-area">
        <h3>Billing Address</h3>
        <div class="row">
          <div class="col-md-2">
            <label>Country</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="country" (change)="getStates('billingAddress')">
                <option *ngFor="let con of countries" [ngValue]="con">{{con.name}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-2">
            <label>State</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="state">
                <option *ngFor="let state of billingStates">{{state.name}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-2">
            <label>City</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="city" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Street</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="street" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Zip Code</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="zipCode" type="text">
            </div>
          </div>
        </div>
      </div>

<!--credit card-->

      <div formGroupName="creditCard" class="form-area">
        <h3>Credit Card Details</h3>
        <div class="row">
          <div class="col-md-2">
            <label>Card Number</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="country">
                <option>Visa</option>
                <option>Master Card</option>
              </select>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-md-2">
            <label>Name on card</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="nameOnCard" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Card Number</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="cardNumber" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Security Code</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <input formControlName="securityCode" type="text">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Expiration Month</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="expirationMonth">
                <option *ngFor="let mon of creditcardMonths">{{mon}}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Expiration Year</label>
          </div>
          <div class="col-md-9">
            <div class="input-space">
              <select formControlName="expirationYear" (change)="handleMonths()">
                <option *ngFor="let yr of creditcardYears">{{yr}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="form-area">
          <h3>Review Order Details</h3>

          <p>Total Quantity: {{totalQuantity}}</p>
          <p>Shipping: {{totalPrice>100?"Free":(2|currency:'USD')}}</p>
          <p>Total Price: {{totalPrice | currency:"USD"}}</p>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-success">Purchase</button>
      </div>

    </form>
  </div>
</div>
</div>
